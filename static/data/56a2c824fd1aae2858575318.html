<!DOCTYPE html><html><head><title>Ugly Number</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta name="keywords" content="geeksforgeeks, algorithms, iOS"><meta name="apple-itunes-app" content="app-id=991254978"><link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="/stylesheets/main.css"><link rel="stylesheet" href="/stylesheets/styles/github.css"><script src="/javascripts/jquery-1.11.2.js"></script><script src="/bootstrap/js/bootstrap.min.js"></script><script src="/javascripts/highlight.pack.js"></script><script src="/javascripts/geekreader.js"></script><script>hljs.initHighlightingOnLoad();</script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67142392-1', 'auto');
  ga('send', 'pageview');

</script>
</head><body><div class="container post"><div style="page-break-before:always;" class="post"><div class="post-header"><h1 data-id="56a2c824fd1aae2858575318" data-set="true" class="title">Ugly Number</h1></div><article class="post-content"><div class="question card-content"><div class="question-content">
              <p></p><p>
Write a program to check whether a given number is an ugly number.
</p>

<p>
Ugly numbers are positive numbers whose prime factors only include <code>2, 3, 5</code>. For example, <code>6, 8</code> are ugly while <code>14</code> is not ugly since it includes another prime factor <code>7</code>.
</p>

<p>
Note that <code>1</code> is typically treated as an ugly number.
</p>

<p><b>Credits:</b><br>Special thanks to <a href="https://leetcode.com/discuss/user/jianchao.li.fighter">@jianchao.li.fighter</a> for adding this problem and creating all test cases.</p>
              
                
              

              
                <div>
                  <div id="tags" class="btn btn-xs btn-warning">Show Tags</div>
                  <span class="hidebutton">
                    
                    <a class="btn btn-xs btn-primary" href="https://leetcode.com/tag/math/">Math</a>
                    
                  </span>
                </div>
              

              
                <div>
                  <div id="similar" class="btn btn-xs btn-warning">Show Similar Problems</div>
                  <span class="hidebutton">
                    
                    <a class="btn btn-xs btn-primary" href="#happy-number"> (E) Happy Number</a>
                    
                    <a class="btn btn-xs btn-primary" href="#count-primes"> (E) Count Primes</a>
                    
                    <a class="btn btn-xs btn-primary" href="#ugly-number-ii"> (M) Ugly Number II</a>
                    
                  </span>
                </div>
              

            </div>
          </div><div style="page-break-before:always;" class="answers"></div><div style="page-break-before:always;" class="card"><h2 class="card-title">Solution 1</h2><div class="answer card-content"><div class="entry-content"><p>Just divide by 2, 3 and 5 as often as possible and then check whether we arrived at 1. Also try divisor 4 if that makes the code simpler / less repetitive.</p>

<p><strong>C++ / C</strong></p>

<pre><code>for (int i=2; i&lt;6 &amp;&amp; num; i++)
    while (num % i == 0)
        num /= i;
return num == 1;
</code></pre>

<p><strong>Ruby</strong></p>

<pre><code>(2..5).each { |i| num /= i while num % i == 0 } if num &gt; 0
num == 1
</code></pre>

<p>Or:</p>

<pre><code>require 'prime'
num &gt; 0 &amp;&amp; num.prime_division.all? { |p, _| p &lt; 6 }
</code></pre>

<p><strong>Python</strong></p>

<pre><code>for p in 2, 3, 5:
    while num % p == 0 &lt; num:
        num /= p
return num == 1
</code></pre>

<p><strong>Java / C#</strong></p>

<pre><code>for (int i=2; i&lt;6 &amp;&amp; num&gt;0; i++)
    while (num % i == 0)
        num /= i;
return num == 1;
</code></pre>

<p><strong>Javascript</strong></p>

<pre><code>for (var p of [2, 3, 5])
    while (num &amp;&amp; num % p == 0)
        num /= p;
return num == 1;
</code></pre>

<hr>

<p><strong>General</strong></p>

<p>Would be a bit cleaner if I did the zero-test outside, and discarding negative numbers right away can speed things up a little, but meh... I don't want to add another line and indentation level :-)</p>

<pre><code>if (num &gt; 0)
    for (int i=2; i&lt;6; i++)
        while (num % i == 0)
            num /= i;
return num == 1;
</code></pre>
</div>
												</div><div class="author"><span>written by&nbsp;</span><a href="https://leetcode.com/discuss/user/StefanPochmann">StefanPochmann</a><span>&nbsp;original link&nbsp;</span><a href="https://leetcode.com/discuss/52703/2-4-lines-every-language">here</a></div></div><div style="page-break-before:always;" class="card"><h2 class="card-title">Solution 2</h2><div class="answer card-content"><div class="entry-content"><pre><code>public boolean isUgly(int num) {
    if(num==1) return true;
    if(num==0) return false;
    while(num%2==0) num=num&gt;&gt;1;
    while(num%3==0) num=num/3;
    while(num%5==0) num=num/5;
    return num==1;
}
</code></pre>
</div>
												</div><div class="author"><span>written by&nbsp;</span><a href="https://leetcode.com/discuss/user/kittyfeng">kittyfeng</a><span>&nbsp;original link&nbsp;</span><a href="https://leetcode.com/discuss/60914/my-2ms-java-solution">here</a></div></div><div style="page-break-before:always;" class="card"><h2 class="card-title">Solution 3</h2><div class="answer card-content"><div class="entry-content"><pre><code>public boolean isUgly(int num) {
    if (num &lt;= 0) {return false;}
    if (num == 1) {return true;}
    if (num % 2 == 0) {
        return isUgly(num/2);
    }
    if (num % 3 == 0) {
        return isUgly(num/3);
    }
    if (num % 5 == 0) {
        return isUgly(num/5);
    }
    return false;
}
</code></pre>

<hr>

<p>idea: </p>

<ul>
<li>(1) basic cases: &lt;= 0 and == 1</li>
<li>(2) other cases: since the number can contain the factors of 2, 3, 5, I just remove those factors. So now, I have a number without any factors of 2, 3, 5. </li>
<li>(3) after the removing, the number (new number) can contain a) the factor that is prime and meanwhile it is &gt;= 7, or b) the factor that is not the prime and the factor is not comprised of 2, 3 or 5. In both cases, it is false (not ugly number). </li>
</ul>

<p>For example, new number can be 11, 23 --&gt; not ugly number (case a)). new number also can be 49, 121 --&gt; not ugly number (case b))</p>
</div>
												</div><div class="author"><span>written by&nbsp;</span><a href="https://leetcode.com/discuss/user/hello_today_">hello_today_</a><span>&nbsp;original link&nbsp;</span><a href="https://leetcode.com/discuss/52883/simple-java-solution-with-explanation">here</a></div></div></article></div></div><footer class="footer"><div class="container"><span>From <a href="https://itunes.apple.com/ca/app/leetcoder/id1069760709?mt=8" target='_blank'>Leetcoder</a>.</span></div></footer></body></html>