<!DOCTYPE html><html><head><title>Remove Duplicates from Sorted Array II</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta name="keywords" content="geeksforgeeks, algorithms, iOS"><meta name="apple-itunes-app" content="app-id=991254978"><link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="/stylesheets/main.css"><link rel="stylesheet" href="/stylesheets/styles/github.css"><script src="/javascripts/jquery-1.11.2.js"></script><script src="/bootstrap/js/bootstrap.min.js"></script><script src="/javascripts/highlight.pack.js"></script><script src="/javascripts/geekreader.js"></script><script>hljs.initHighlightingOnLoad();</script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67142392-1', 'auto');
  ga('send', 'pageview');

</script>
</head><body><div class="container post"><div style="page-break-before:always;" class="post"><div class="post-header"><h1 data-id="56a2cdd1fd1aae28585753be" data-set="true" class="title">Remove Duplicates from Sorted Array II</h1></div><article class="post-content"><div class="question card-content"><div class="question-content">
              <p></p><p>
Follow up for "Remove Duplicates":<br>
What if duplicates are allowed at most <i>twice</i>?</p>

<p>
For example,<br>
Given sorted array <i>nums</i> = <code>[1,1,1,2,2,3]</code>,
</p>
<p>
Your function should return length = <code>5</code>, with the first five elements of <i>nums</i> being <code>1</code>, <code>1</code>, <code>2</code>, <code>2</code> and <code>3</code>. It doesn't matter what you leave beyond the new length.
</p>
              
                
                  <div>
                    <div id="company_tags" class="btn btn-xs btn-warning">Show Company Tags</div>
                    <span class="hidebutton">
                      
                        <a class="btn btn-xs btn-primary" href="https://leetcode.com/company/facebook/">Facebook</a>
                      
                    </span>
                  </div>
                
              

              
                <div>
                  <div id="tags" class="btn btn-xs btn-warning">Show Tags</div>
                  <span class="hidebutton">
                    
                    <a class="btn btn-xs btn-primary" href="https://leetcode.com/tag/array/">Array</a>
                    
                    <a class="btn btn-xs btn-primary" href="https://leetcode.com/tag/two-pointers/">Two Pointers</a>
                    
                  </span>
                </div>
              

              

            </div>
          </div><div style="page-break-before:always;" class="answers"></div><div style="page-break-before:always;" class="card"><h2 class="card-title">Solution 1</h2><div class="answer card-content"><div class="entry-content"><p>Same simple solution written in several languages. Just go through the numbers and include those in the result that haven't been included twice already.</p>

<p><strong>C++</strong></p>

<pre><code>int removeDuplicates(vector&lt;int&gt;&amp; nums) {
    int i = 0;
    for (int n : nums)
        if (i &lt; 2 || n &gt; nums[i-2])
            nums[i++] = n;
    return i;
}
</code></pre>

<p><strong>Java</strong></p>

<pre><code>public int removeDuplicates(int[] nums) {
    int i = 0;
    for (int n : nums)
        if (i &lt; 2 || n &gt; nums[i-2])
            nums[i++] = n;
    return i;
}
</code></pre>

<p><strong>Python</strong></p>

<pre><code>def removeDuplicates(self, nums):
    i = 0
    for n in nums:
        if i &lt; 2 or n &gt; nums[i-2]:
            nums[i] = n
            i += 1
    return i
</code></pre>

<p><strong>Ruby</strong></p>

<pre><code>def remove_duplicates(nums)
    i = 0
    nums.each { |n| nums[(i+=1)-1] = n if i &lt; 2 || n &gt; nums[i-2] }
    i
end
</code></pre>
</div>
												</div><div class="author"><span>written by&nbsp;</span><a href="https://leetcode.com/discuss/user/StefanPochmann">StefanPochmann</a><span>&nbsp;original link&nbsp;</span><a href="https://leetcode.com/discuss/42348/3-6-easy-lines-c-java-python-ruby">here</a></div></div><div style="page-break-before:always;" class="card"><h2 class="card-title">Solution 2</h2><div class="answer card-content"><div class="entry-content"><p>I think both Remove Duplicates from Sorted Array I and II could be solved in a consistent and more general way by allowing the duplicates to appear k times (k = 1 for problem I and k = 2 for problem II). Here is my way: we need a count variable to keep how many times the duplicated element appears, if we encounter a different element, just set counter to 1, if we encounter a duplicated one, we need to check this count, if it is already k, then we need to skip it, otherwise, we can keep this element. The following is the implementation and can pass both OJ:</p>

<pre><code>int removeDuplicates(int A[], int n, int k) {

            if (n &lt;= k) return n;

            int i = 1, j = 1;
            int cnt = 1;
            while (j &lt; n) {
                if (A[j] != A[j-1]) {
                    cnt = 1;
                    A[i++] = A[j];
                }
                else {
                    if (cnt &lt; k) {
                        A[i++] = A[j];
                        cnt++;
                    }
                }
                ++j;
            }
            return i;
}
</code></pre>

<p>For more details, you can also see this post: <a rel="nofollow" href="http://tech-wonderland.net/blog/leetcode-remove-duplicates-from-sorted-array-i-and-ii.html">LeetCode Remove Duplicates from Sorted Array I and II: O(N) Time and O(1) Space</a></p>
</div>
												</div><div class="author"><span>written by&nbsp;</span><a href="https://leetcode.com/discuss/user/tech-wonderland.net">tech-wonderland.net</a><span>&nbsp;original link&nbsp;</span><a href="https://leetcode.com/discuss/22584/share-time-and-solution-when-duplicates-allowed-most-times">here</a></div></div><div style="page-break-before:always;" class="card"><h2 class="card-title">Solution 3</h2><div class="answer card-content"><div class="entry-content"><pre><code>int removeDuplicates(vector&lt;int&gt;&amp; nums) {
    int n = nums.size(), count = 0;
    for (int i = 2; i &lt; n; i++)
        if (nums[i] == nums[i - 2 - count]) count++;
        else nums[i - count] = nums[i];
    return n - count;
}
</code></pre>
</div>
												</div><div class="author"><span>written by&nbsp;</span><a href="https://leetcode.com/discuss/user/aserdega">aserdega</a><span>&nbsp;original link&nbsp;</span><a href="https://leetcode.com/discuss/55229/my-c-solution-16ms-5-lines">here</a></div></div></article></div></div><footer class="footer"><div class="container"><span>From <a href="https://itunes.apple.com/ca/app/leetcoder/id1069760709?mt=8" target='_blank'>Leetcoder</a>.</span></div></footer></body></html>