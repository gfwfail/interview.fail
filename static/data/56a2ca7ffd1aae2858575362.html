<!DOCTYPE html><html><head><title>Factorial Trailing Zeroes</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta name="keywords" content="geeksforgeeks, algorithms, iOS"><meta name="apple-itunes-app" content="app-id=991254978"><link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="/stylesheets/main.css"><link rel="stylesheet" href="/stylesheets/styles/github.css"><script src="/javascripts/jquery-1.11.2.js"></script><script src="/bootstrap/js/bootstrap.min.js"></script><script src="/javascripts/highlight.pack.js"></script><script src="/javascripts/geekreader.js"></script><script>hljs.initHighlightingOnLoad();</script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67142392-1', 'auto');
  ga('send', 'pageview');

</script>
</head><body><div class="container post"><div style="page-break-before:always;" class="post"><div class="post-header"><h1 data-id="56a2ca7ffd1aae2858575362" data-set="true" class="title">Factorial Trailing Zeroes</h1></div><article class="post-content"><div class="question card-content"><div class="question-content">
              <p></p><p>Given an integer <i>n</i>, return the number of trailing zeroes in <i>n</i>!.</p>

<p><b>Note: </b>Your solution should be in logarithmic time complexity.</p>

<p><b>Credits:</b><br>Special thanks to <a href="https://oj.leetcode.com/discuss/user/ts">@ts</a> for adding this problem and creating all test cases.</p>
              
                
                  <div>
                    <div id="company_tags" class="btn btn-xs btn-warning">Show Company Tags</div>
                    <span class="hidebutton">
                      
                        <a class="btn btn-xs btn-primary" href="https://leetcode.com/company/bloomberg/">Bloomberg</a>
                      
                    </span>
                  </div>
                
              

              
                <div>
                  <div id="tags" class="btn btn-xs btn-warning">Show Tags</div>
                  <span class="hidebutton">
                    
                    <a class="btn btn-xs btn-primary" href="https://leetcode.com/tag/math/">Math</a>
                    
                  </span>
                </div>
              

              
                <div>
                  <div id="similar" class="btn btn-xs btn-warning">Show Similar Problems</div>
                  <span class="hidebutton">
                    
                    <a class="btn btn-xs btn-primary" href="#number-of-digit-one"> (M) Number of Digit One</a>
                    
                  </span>
                </div>
              

            </div>
          </div><div style="page-break-before:always;" class="answers"></div><div style="page-break-before:always;" class="card"><h2 class="card-title">Solution 1</h2><div class="answer card-content"><div class="entry-content"><p>This question is pretty straightforward.</p>

<p>Because all trailing 0 is from factors 5 * 2. </p>

<p>But sometimes one number may have several 5 factors, for example, 25 have two 5 factors, 125 have three 5 factors. In the n! operation, factors 2 is always ample.  So we just count how many 5 factors in all number from 1 to n. </p>

<p>One line code:</p>

<p>Java:</p>

<pre><code>    return n == 0 ? 0 : n / 5 + trailingZeroes(n / 5);
</code></pre>

<p>C++:</p>

<pre><code>    return n == 0 ? 0 : n / 5 + trailingZeroes(n / 5);
</code></pre>

<p>Python:</p>

<pre><code>    return 0 if n == 0 else n / 5 + self.trailingZeroes(n / 5)
</code></pre>
</div>
												</div><div class="author"><span>written by&nbsp;</span><a href="https://leetcode.com/discuss/user/xcv58">xcv58</a><span>&nbsp;original link&nbsp;</span><a href="https://leetcode.com/discuss/19855/my-one-line-solutions-in-3-languages">here</a></div></div><div style="page-break-before:always;" class="card"><h2 class="card-title">Solution 2</h2><div class="answer card-content"><div class="entry-content"><p>The idea is: </p>

<ol>
<li>The ZERO comes from 10.  </li>
<li>The 10 comes from 2 x 5 </li>
<li>And we need to account for all the products of 5 and 2. likes 4&#215;5 = 20 ...</li>
<li>So, if we take all the numbers with 5 as a factor, we'll have way  more than enough even numbers to pair with them to get factors of 10</li>
</ol>

<p><strong>Example One</strong></p>

<p>How many multiples of 5 are between 1 and 23? There is 5, 10, 15, and 20, for four multiples of 5. Paired with 2's from the even factors, this makes for four factors of 10, so: <strong>23! has 4 zeros</strong>.</p>

<p><strong>Example Two</strong></p>

<p>How many multiples of 5 are there in the numbers from 1 to 100? </p>

<p>because   100 &#247; 5 = 20, so, there are twenty multiples of 5 between 1 and 100.</p>

<p>but wait, actually 25 is 5&#215;5, so each multiple of 25 has an extra factor of 5, e.g. 25 &#215; 4 = 100&#65292;which introduces extra of zero.</p>

<p>So, we need know how many multiples of 25 are between 1 and 100? Since 100 &#247; 25 = 4, there are four multiples of 25 between 1 and 100.</p>

<p>Finally, we get 20 + 4 = 24 trailing zeroes in 100!</p>

<p>The above example tell us, we need care about 5, 5&#215;5, 5&#215;5&#215;5, 5&#215;5&#215;5&#215;5 ....</p>

<p><strong>Example Three</strong></p>

<p>By given number 4617.</p>

<p>5^1 :  4617 &#247; 5 = 923.4, so we get 923 factors of 5</p>

<p>5^2 :  4617 &#247; 25 = 184.68, so we get 184 additional factors of 5</p>

<p>5^3 :  4617 &#247; 125 = 36.936, so we get 36 additional factors of 5</p>

<p>5^4 :  4617 &#247; 625 = 7.3872, so we get 7 additional factors of 5</p>

<p>5^5 :  4617 &#247; 3125 = 1.47744, so we get 1 more factor of 5</p>

<p>5^6 :  4617 &#247; 15625 = 0.295488, which is less than 1, so stop here.</p>

<p>Then 4617! has 923 + 184 + 36 + 7 + 1 = 1151 trailing zeroes.</p>

<p>C/C++ code </p>

<pre><code>int trailingZeroes(int n) {
    int result = 0;
    for(long long i=5; n/i&gt;0; i*=5){
        result += (n/i);
    }
    return result;
}
</code></pre>

<p>---------update-----------</p>

<p>To avoid the integer overflow as <strong>@localvar</strong> mentioned below(in case of 'n &gt;=1808548329' ), the expression " i &lt;= INT<em>MAX/5" is not a good way to prevent overflow, because 5^13 is &gt; INT</em>MAX/5 and it's valid. </p>

<p>So, if you want to use "multiply", consider define the 'i' as 'long long' type.</p>

<p>Or, take the solution <strong>@codingryan</strong> mentioned in below answer!</p>
</div>
												</div><div class="author"><span>written by&nbsp;</span><a href="https://leetcode.com/discuss/user/haoel">haoel</a><span>&nbsp;original link&nbsp;</span><a href="https://leetcode.com/discuss/19847/simple-c-c-solution-with-detailed-explaination">here</a></div></div><div style="page-break-before:always;" class="card"><h2 class="card-title">Solution 3</h2><div class="answer card-content"><div class="entry-content"><p>10 is the product of 2 and 5. In n!, we need to know how many 2 and 5, and the number of zeros is the minimum of the number of 2 and the number of 5.</p>

<p>Since multiple of 2 is more than multiple of 5, the number of zeros is dominant by the number of 5.</p>

<p>Here we expand  </p>

<pre><code>  2147483647!
=2 * 3 * ...* 5 ... *10 ... 15* ... * 25 ... * 50 ... * 125 ... * 250...
=2 * 3 * ...* 5 ... * (5^1*2)...(5^1*3)...*(5^2*1)...*(5^2*2)...*(5^3*1)...*(5^3*2)... (Equation 1)
</code></pre>

<p>We just count the number of 5 in Equation 1.</p>

<p>Multiple of 5 provides one 5, multiple of 25 provides two 5 and so on.</p>

<p>Note the duplication: multiple of 25 is also multiple of 5, so multiple of 25 only provides one extra 5.</p>

<p>Here is the basic solution:</p>

<pre><code>return n/5 + n/25 + n/125 + n/625 + n/3125+...;
</code></pre>

<p>You can easily rewrite it to a loop.</p>
</div>
												</div><div class="author"><span>written by&nbsp;</span><a href="https://leetcode.com/discuss/user/gqq">gqq</a><span>&nbsp;original link&nbsp;</span><a href="https://leetcode.com/discuss/20691/my-explanation-of-the-log-n-solution">here</a></div></div></article></div></div><footer class="footer"><div class="container"><span>From <a href="https://itunes.apple.com/ca/app/leetcoder/id1069760709?mt=8" target='_blank'>Leetcoder</a>.</span></div></footer></body></html>